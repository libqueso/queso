<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>queso-0.53.0: src/contrib/ANN/src/kd_dump.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">queso-0.53.0
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_c4671517e35f5511f17960ba3471a454.html">src</a></li><li class="navelem"><a class="el" href="dir_bd26773dc971f4fa3aa1d8bd68fbf230.html">contrib</a></li><li class="navelem"><a class="el" href="dir_9b88879957fe8db0821d93727895fef3.html">ANN</a></li><li class="navelem"><a class="el" href="dir_162f6fcbd574a601bad28c5358416498.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">kd_dump.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="a00299.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//----------------------------------------------------------------------</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// File:                        kd_dump.cc</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Programmer:          David Mount</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// Description:         Dump and Load for kd- and bd-trees</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// Last modified:       01/04/05 (Version 1.0)</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//----------------------------------------------------------------------</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">// Copyright (c) 1997-2005 University of Maryland and Sunil Arya and</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">// David Mount.  All Rights Reserved.</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// This software and related documentation is part of the Approximate</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// Nearest Neighbor Library (ANN).  This software is provided under</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// the provisions of the Lesser GNU Public License (LGPL).  See the</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// file ../ReadMe.txt for further information.</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">// The University of Maryland (U.M.) and the authors make no</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">// representations about the suitability or fitness of this software for</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">// any purpose.  It is provided &quot;as is&quot; without express or implied</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">// warranty.</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">//----------------------------------------------------------------------</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">// History:</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">//      Revision 0.1  03/04/98</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">//              Initial release</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">//      Revision 1.0  04/01/05</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">//              Moved dump out of kd_tree.cc into this file.</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">//              Added kd-tree load constructor.</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">//----------------------------------------------------------------------</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">// This file contains routines for dumping kd-trees and bd-trees and</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">// reloading them. (It is an abuse of policy to include both kd- and</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">// bd-tree routines in the same file, sorry.  There should be no problem</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">// in deleting the bd- versions of the routines if they are not</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">// desired.)</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">//----------------------------------------------------------------------</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="a00309.html">kd_tree.h</a>&quot;</span>                                    <span class="comment">// kd-tree declarations</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="a00297.html">bd_tree.h</a>&quot;</span>                                    <span class="comment">// bd-tree declarations</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="keyword">using namespace </span>std;                                    <span class="comment">// make std:: available</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">//----------------------------------------------------------------------</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">//              Constants</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">//----------------------------------------------------------------------</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="a00299.html#ac88fef96657c1a127763f35c90198503">   43</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">int</span>               <a class="code" href="a00284.html#ac88fef96657c1a127763f35c90198503">STRING_LEN</a>              = 500;  <span class="comment">// maximum string length</span></div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="a00299.html#a596344e5a2992d2beec43b76a6294de0">   44</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">double</span>    <a class="code" href="a00299.html#a596344e5a2992d2beec43b76a6294de0">EPSILON</a>                 = 1E-5; <span class="comment">// small number for float comparison</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="a00299.html#a8f896b788f94f593eae2f63c14aadbbbaa688e9cd1158916bc183aa517724568c">   46</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="a00299.html#a8f896b788f94f593eae2f63c14aadbbb">ANNtreeType</a> {<a class="code" href="a00299.html#a8f896b788f94f593eae2f63c14aadbbbaa688e9cd1158916bc183aa517724568c">KD_TREE</a>, <a class="code" href="a00299.html#a8f896b788f94f593eae2f63c14aadbbba3db7510f23fe6ab78f77cacff3f719d0">BD_TREE</a>};    <span class="comment">// tree types (used in loading)</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">//----------------------------------------------------------------------</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">//              Procedure declarations</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">//----------------------------------------------------------------------</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="keyword">static</span> <a class="code" href="a00014.html">ANNkd_ptr</a> <a class="code" href="a00299.html#a26c6fdde49db3b129c5bfd2a328424f7">annReadDump</a>(                   <span class="comment">// read dump file</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        istream                         &amp;in,                                    <span class="comment">// input stream</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <a class="code" href="a00299.html#a8f896b788f94f593eae2f63c14aadbbb">ANNtreeType</a>                     tree_type,                              <span class="comment">// type of tree expected</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        <a class="code" href="a00286.html#a402299ac00a81ad80f09a0eb84ba4059">ANNpointArray</a>           &amp;the_pts,                               <span class="comment">// new points (if applic)</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        <a class="code" href="a00286.html#a6cc54f9929727736423d719870cf1a5b">ANNidxArray</a>                     &amp;the_pidx,                              <span class="comment">// point indices (returned)</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        <span class="keywordtype">int</span>                                     &amp;the_dim,                               <span class="comment">// dimension (returned)</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        <span class="keywordtype">int</span>                                     &amp;the_n_pts,                             <span class="comment">// number of points (returned)</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <span class="keywordtype">int</span>                                     &amp;the_bkt_size,                  <span class="comment">// bucket size (returned)</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        <a class="code" href="a00286.html#ad85f4b5cb9cf5877a2094bf8582133f5">ANNpoint</a>                        &amp;the_bnd_box_lo,                <span class="comment">// low bounding point</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        <a class="code" href="a00286.html#ad85f4b5cb9cf5877a2094bf8582133f5">ANNpoint</a>                        &amp;the_bnd_box_hi);               <span class="comment">// high bounding point</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="keyword">static</span> <a class="code" href="a00014.html">ANNkd_ptr</a> <a class="code" href="a00299.html#a0c7518c682c98520602183746b169a1a">annReadTree</a>(                   <span class="comment">// read tree-part of dump file</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        istream                         &amp;in,                                    <span class="comment">// input stream</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        <a class="code" href="a00299.html#a8f896b788f94f593eae2f63c14aadbbb">ANNtreeType</a>                     tree_type,                              <span class="comment">// type of tree expected</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <a class="code" href="a00286.html#a6cc54f9929727736423d719870cf1a5b">ANNidxArray</a>                     the_pidx,                               <span class="comment">// point indices (modified)</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <span class="keywordtype">int</span>                                     &amp;next_idx);                             <span class="comment">// next index (modified)</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">//----------------------------------------------------------------------</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">//      ANN kd- and bd-tree Dump Format</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">//              The dump file begins with a header containing the version of</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">//              ANN, an optional section containing the points, followed by</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">//              a description of the tree.      The tree is printed in preorder.</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">//              Format:</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">//              #ANN &lt;version number&gt; &lt;comments&gt; [END_OF_LINE]</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">//              points &lt;dim&gt; &lt;n_pts&gt;                    (point coordinates: this is optional)</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">//              0 &lt;xxx&gt; &lt;xxx&gt; ... &lt;xxx&gt;                 (point indices and coordinates)</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">//              1 &lt;xxx&gt; &lt;xxx&gt; ... &lt;xxx&gt;</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">//                ...</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">//              tree &lt;dim&gt; &lt;n_pts&gt; &lt;bkt_size&gt;</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">//              &lt;xxx&gt; &lt;xxx&gt; ... &lt;xxx&gt;                   (lower end of bounding box)</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">//              &lt;xxx&gt; &lt;xxx&gt; ... &lt;xxx&gt;                   (upper end of bounding box)</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">//                              If the tree is null, then a single line &quot;null&quot; is</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">//                              output.  Otherwise the nodes of the tree are printed</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">//                              one per line in preorder.  Leaves and splitting nodes</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">//                              have the following formats:</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">//              Leaf node:</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">//                              leaf &lt;n_pts&gt; &lt;bkt[0]&gt; &lt;bkt[1]&gt; ... &lt;bkt[n-1]&gt;</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">//              Splitting nodes:</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">//                              split &lt;cut_dim&gt; &lt;cut_val&gt; &lt;lo_bound&gt; &lt;hi_bound&gt;</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment">//              For bd-trees:</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">//              Shrinking nodes:</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment">//                              shrink &lt;n_bnds&gt;</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment">//                                              &lt;cut_dim&gt; &lt;cut_val&gt; &lt;side&gt;</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment">//                                              &lt;cut_dim&gt; &lt;cut_val&gt; &lt;side&gt;</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment">//                                              ... (repeated n_bnds times)</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment">//----------------------------------------------------------------------</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div>
<div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="a00016.html#a25679827d1b863997fd3d8054116d2de">  102</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="a00016.html#a25679827d1b863997fd3d8054116d2de">ANNkd_tree::Dump</a>(                                  <span class="comment">// dump entire tree</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                <a class="code" href="a00286.html#ae5927710e8251aa54f5b820eca160f2c">ANNbool</a> with_pts,                               <span class="comment">// print points as well?</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                ostream &amp;out)                                   <span class="comment">// output stream</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;{</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        out &lt;&lt; <span class="stringliteral">&quot;#ANN &quot;</span> &lt;&lt; <a class="code" href="a00286.html#a4ef5fb5f7e0bf3774fb2806411da5f49">ANNversion</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        out.precision(<a class="code" href="a00286.html#af70a6982ba3eb965c85163b12bf15a79">ANNcoordPrec</a>);            <span class="comment">// use full precision in dumping</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <span class="keywordflow">if</span> (with_pts) {                                         <span class="comment">// print point coordinates</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                out &lt;&lt; <span class="stringliteral">&quot;points &quot;</span> &lt;&lt; <a class="code" href="a00284.html#a70b5e28b5bc3d1b63a7435c5fe50b837">dim</a> &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; <a class="code" href="a00284.html#a49eeba22d5b2a203ba8607dae7d1c5c9">n_pts</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="a00284.html#a49eeba22d5b2a203ba8607dae7d1c5c9">n_pts</a>; i++) {</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                        out &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                        <a class="code" href="a00288.html#ad98b2b2c921df6fd52bb08c46b68cd98">annPrintPt</a>(<a class="code" href="a00284.html#a7e1bd7f0242ce9e79a7a615c7f1975d2">pts</a>[i], <a class="code" href="a00284.html#a70b5e28b5bc3d1b63a7435c5fe50b837">dim</a>, out);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                        out &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                }</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        }</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        out &lt;&lt; <span class="stringliteral">&quot;tree &quot;</span>                                          <span class="comment">// print tree elements</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                &lt;&lt; <a class="code" href="a00284.html#a70b5e28b5bc3d1b63a7435c5fe50b837">dim</a> &lt;&lt; <span class="stringliteral">&quot; &quot;</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                &lt;&lt; <a class="code" href="a00284.html#a49eeba22d5b2a203ba8607dae7d1c5c9">n_pts</a> &lt;&lt; <span class="stringliteral">&quot; &quot;</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                &lt;&lt; bkt_size &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <a class="code" href="a00288.html#ad98b2b2c921df6fd52bb08c46b68cd98">annPrintPt</a>(bnd_box_lo, <a class="code" href="a00284.html#a70b5e28b5bc3d1b63a7435c5fe50b837">dim</a>, out);       <span class="comment">// print lower bound</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        out &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        <a class="code" href="a00288.html#ad98b2b2c921df6fd52bb08c46b68cd98">annPrintPt</a>(bnd_box_hi, <a class="code" href="a00284.html#a70b5e28b5bc3d1b63a7435c5fe50b837">dim</a>, out);       <span class="comment">// print upper bound</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        out &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <span class="keywordflow">if</span> (root == NULL)                                       <span class="comment">// empty tree?</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                out &lt;&lt; <span class="stringliteral">&quot;null\n&quot;</span>;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                root-&gt;dump(out);                                <span class="comment">// invoke printing at root</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        }</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        out.precision(0);                                       <span class="comment">// restore default precision</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;}</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div>
<div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="a00015.html#aff4d64cf3125c6a5e3a9f62a211e5f5b">  134</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="a00015.html#aff4d64cf3125c6a5e3a9f62a211e5f5b">ANNkd_split::dump</a>(                                 <span class="comment">// dump a splitting node</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                ostream &amp;out)                                   <span class="comment">// output stream</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;{</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        out &lt;&lt; <span class="stringliteral">&quot;split &quot;</span> &lt;&lt; cut_dim &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; cut_val &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        out &lt;&lt; cd_bnds[<a class="code" href="a00288.html#a06fc87d81c62e9abb8790b6e5713c55baa8cdd7f0b9fb9ae3d138d13815c57d6e">ANN_LO</a>] &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; cd_bnds[<a class="code" href="a00288.html#a06fc87d81c62e9abb8790b6e5713c55baec74667bc912e4db7f65f6a85e6e9c49">ANN_HI</a>] &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        child[<a class="code" href="a00288.html#a06fc87d81c62e9abb8790b6e5713c55baa8cdd7f0b9fb9ae3d138d13815c57d6e">ANN_LO</a>]-&gt;dump(out);                       <span class="comment">// print low child</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        child[<a class="code" href="a00288.html#a06fc87d81c62e9abb8790b6e5713c55baec74667bc912e4db7f65f6a85e6e9c49">ANN_HI</a>]-&gt;dump(out);                       <span class="comment">// print high child</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;}</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div>
<div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="a00013.html#a3a6befdd493ce50335e3628990ab8761">  144</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="a00013.html#a3a6befdd493ce50335e3628990ab8761">ANNkd_leaf::dump</a>(                                  <span class="comment">// dump a leaf node</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                ostream &amp;out)                                   <span class="comment">// output stream</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;{</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">this</span> == <a class="code" href="a00308.html#aefd44c312f0116089b2cfbf80ef5c5c7">KD_TRIVIAL</a>) {                       <span class="comment">// canonical trivial leaf node</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                out &lt;&lt; <span class="stringliteral">&quot;leaf 0\n&quot;</span>;                              <span class="comment">// leaf no points</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        }</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                out &lt;&lt; <span class="stringliteral">&quot;leaf &quot;</span> &lt;&lt; <a class="code" href="a00284.html#a49eeba22d5b2a203ba8607dae7d1c5c9">n_pts</a>;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; <a class="code" href="a00284.html#a49eeba22d5b2a203ba8607dae7d1c5c9">n_pts</a>; j++) {</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                        out &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; bkt[j];</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                }</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                out &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        }</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;}</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div>
<div class="line"><a name="l00159"></a><span class="lineno"><a class="line" href="a00010.html#a51d412cbad1b7823437adf97050d8880">  159</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="a00010.html#a51d412cbad1b7823437adf97050d8880">ANNbd_shrink::dump</a>(                                <span class="comment">// dump a shrinking node</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                ostream &amp;out)                                   <span class="comment">// output stream</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;{</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        out &lt;&lt; <span class="stringliteral">&quot;shrink &quot;</span> &lt;&lt; n_bnds &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; n_bnds; j++) {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                out &lt;&lt; bnds[j].cd &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; bnds[j].cv &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; bnds[j].sd &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        }</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        child[<a class="code" href="a00288.html#adf764cbdea00d65edcd07bb9953ad2b7a0d2aaac2cc3bb72be73ecfa346e35fa9">ANN_IN</a>]-&gt;dump(out);                       <span class="comment">// print in-child</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        child[<a class="code" href="a00288.html#adf764cbdea00d65edcd07bb9953ad2b7a74d342c79fc6125d2b51326d62ce597c">ANN_OUT</a>]-&gt;dump(out);                      <span class="comment">// print out-child</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;}</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment">//----------------------------------------------------------------------</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment">// Load kd-tree from dump file</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">//              This rebuilds a kd-tree which was dumped to a file.      The dump</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment">//              file contains all the basic tree information according to a</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">//              preorder traversal.      We assume that the dump file also contains</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment">//              point data.      (This is to guarantee the consistency of the tree.)</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment">//              If not, then an error is generated.</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment">//              Indirectly, this procedure allocates space for points, point</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment">//              indices, all nodes in the tree, and the bounding box for the</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment">//              tree.  When the tree is destroyed, all but the points are</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="comment">//              deallocated.</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment">//              This routine calls annReadDump to do all the work.</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">//----------------------------------------------------------------------</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<a class="code" href="a00016.html#a554ac3f6c790dfa2268008580bcb9734">ANNkd_tree::ANNkd_tree</a>(                                 <span class="comment">// build from dump file</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        istream                         &amp;in)                                    <span class="comment">// input stream for dump file</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;{</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <span class="keywordtype">int</span> the_dim;                                                            <span class="comment">// local dimension</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <span class="keywordtype">int</span> the_n_pts;                                                          <span class="comment">// local number of points</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <span class="keywordtype">int</span> the_bkt_size;                                                       <span class="comment">// local number of points</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        <a class="code" href="a00286.html#ad85f4b5cb9cf5877a2094bf8582133f5">ANNpoint</a> the_bnd_box_lo;                                        <span class="comment">// low bounding point</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <a class="code" href="a00286.html#ad85f4b5cb9cf5877a2094bf8582133f5">ANNpoint</a> the_bnd_box_hi;                                        <span class="comment">// high bounding point</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <a class="code" href="a00286.html#a402299ac00a81ad80f09a0eb84ba4059">ANNpointArray</a> the_pts;                                          <span class="comment">// point storage</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <a class="code" href="a00286.html#a6cc54f9929727736423d719870cf1a5b">ANNidxArray</a> the_pidx;                                           <span class="comment">// point index storage</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <a class="code" href="a00014.html">ANNkd_ptr</a> the_root;                                                     <span class="comment">// root of the tree</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        the_root = <a class="code" href="a00299.html#a26c6fdde49db3b129c5bfd2a328424f7">annReadDump</a>(                                         <span class="comment">// read the dump file</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                in,                                                                             <span class="comment">// input stream</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                <a class="code" href="a00299.html#a8f896b788f94f593eae2f63c14aadbbbaa688e9cd1158916bc183aa517724568c">KD_TREE</a>,                                                                <span class="comment">// expecting a kd-tree</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                the_pts,                                                                <span class="comment">// point array (returned)</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                the_pidx,                                                               <span class="comment">// point indices (returned)</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                the_dim, the_n_pts, the_bkt_size,               <span class="comment">// basic tree info (returned)</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                the_bnd_box_lo, the_bnd_box_hi);                <span class="comment">// bounding box info (returned)</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                                                                                                <span class="comment">// create a skeletal tree</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        SkeletonTree(the_n_pts, the_dim, the_bkt_size, the_pts, the_pidx);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        bnd_box_lo = the_bnd_box_lo;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        bnd_box_hi = the_bnd_box_hi;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        root = the_root;                                                        <span class="comment">// set the root</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;}</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<a class="code" href="a00011.html#a6f947fa8ce26e0ccae9dd1b7651a5e1f">ANNbd_tree::ANNbd_tree</a>(                                 <span class="comment">// build bd-tree from dump file</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        istream                         &amp;in) : <a class="code" href="a00016.html">ANNkd_tree</a>()             <span class="comment">// input stream for dump file</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;{</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        <span class="keywordtype">int</span> the_dim;                                                            <span class="comment">// local dimension</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        <span class="keywordtype">int</span> the_n_pts;                                                          <span class="comment">// local number of points</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        <span class="keywordtype">int</span> the_bkt_size;                                                       <span class="comment">// local number of points</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <a class="code" href="a00286.html#ad85f4b5cb9cf5877a2094bf8582133f5">ANNpoint</a> the_bnd_box_lo;                                        <span class="comment">// low bounding point</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <a class="code" href="a00286.html#ad85f4b5cb9cf5877a2094bf8582133f5">ANNpoint</a> the_bnd_box_hi;                                        <span class="comment">// high bounding point</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <a class="code" href="a00286.html#a402299ac00a81ad80f09a0eb84ba4059">ANNpointArray</a> the_pts;                                          <span class="comment">// point storage</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <a class="code" href="a00286.html#a6cc54f9929727736423d719870cf1a5b">ANNidxArray</a> the_pidx;                                           <span class="comment">// point index storage</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <a class="code" href="a00014.html">ANNkd_ptr</a> the_root;                                                     <span class="comment">// root of the tree</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        the_root = <a class="code" href="a00299.html#a26c6fdde49db3b129c5bfd2a328424f7">annReadDump</a>(                                         <span class="comment">// read the dump file</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                in,                                                                             <span class="comment">// input stream</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                <a class="code" href="a00299.html#a8f896b788f94f593eae2f63c14aadbbba3db7510f23fe6ab78f77cacff3f719d0">BD_TREE</a>,                                                                <span class="comment">// expecting a bd-tree</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                the_pts,                                                                <span class="comment">// point array (returned)</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                the_pidx,                                                               <span class="comment">// point indices (returned)</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                the_dim, the_n_pts, the_bkt_size,               <span class="comment">// basic tree info (returned)</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                the_bnd_box_lo, the_bnd_box_hi);                <span class="comment">// bounding box info (returned)</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                                                                                                <span class="comment">// create a skeletal tree</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        SkeletonTree(the_n_pts, the_dim, the_bkt_size, the_pts, the_pidx);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        bnd_box_lo = the_bnd_box_lo;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        bnd_box_hi = the_bnd_box_hi;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        root = the_root;                                                        <span class="comment">// set the root</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;}</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment">//----------------------------------------------------------------------</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment">//      annReadDump - read a dump file</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment">//              This procedure reads a dump file, constructs a kd-tree</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment">//              and returns all the essential information needed to actually</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment">//              construct the tree.      Because this procedure is used for</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment">//              constructing both kd-trees and bd-trees, the second argument</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment">//              is used to indicate which type of tree we are expecting.</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment">//----------------------------------------------------------------------</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div>
<div class="line"><a name="l00253"></a><span class="lineno"><a class="line" href="a00299.html#a26c6fdde49db3b129c5bfd2a328424f7">  253</a></span>&#160;<span class="keyword">static</span> <a class="code" href="a00014.html">ANNkd_ptr</a> <a class="code" href="a00299.html#a26c6fdde49db3b129c5bfd2a328424f7">annReadDump</a>(</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        istream                         &amp;in,                                    <span class="comment">// input stream</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        <a class="code" href="a00299.html#a8f896b788f94f593eae2f63c14aadbbb">ANNtreeType</a>                     tree_type,                              <span class="comment">// type of tree expected</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        <a class="code" href="a00286.html#a402299ac00a81ad80f09a0eb84ba4059">ANNpointArray</a>           &amp;the_pts,                               <span class="comment">// new points (returned)</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <a class="code" href="a00286.html#a6cc54f9929727736423d719870cf1a5b">ANNidxArray</a>                     &amp;the_pidx,                              <span class="comment">// point indices (returned)</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <span class="keywordtype">int</span>                                     &amp;the_dim,                               <span class="comment">// dimension (returned)</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <span class="keywordtype">int</span>                                     &amp;the_n_pts,                             <span class="comment">// number of points (returned)</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        <span class="keywordtype">int</span>                                     &amp;the_bkt_size,                  <span class="comment">// bucket size (returned)</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        <a class="code" href="a00286.html#ad85f4b5cb9cf5877a2094bf8582133f5">ANNpoint</a>                        &amp;the_bnd_box_lo,                <span class="comment">// low bounding point (ret&#39;d)</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <a class="code" href="a00286.html#ad85f4b5cb9cf5877a2094bf8582133f5">ANNpoint</a>                        &amp;the_bnd_box_hi)                <span class="comment">// high bounding point (ret&#39;d)</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;{</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <span class="keywordtype">int</span> j;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        <span class="keywordtype">char</span> str[<a class="code" href="a00284.html#ac88fef96657c1a127763f35c90198503">STRING_LEN</a>];                                           <span class="comment">// storage for string</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        <span class="keywordtype">char</span> <a class="code" href="a00289.html#a12136ab41a8aa67f0858137868a55106">version</a>[<a class="code" href="a00284.html#ac88fef96657c1a127763f35c90198503">STRING_LEN</a>];                                       <span class="comment">// ANN version number</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        <a class="code" href="a00014.html">ANNkd_ptr</a> the_root = NULL;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        <span class="comment">//------------------------------------------------------------------</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        <span class="comment">//      Input file header</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <span class="comment">//------------------------------------------------------------------</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        in &gt;&gt; str;                                                                      <span class="comment">// input header</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <span class="keywordflow">if</span> (strcmp(str, <span class="stringliteral">&quot;#ANN&quot;</span>) != 0) {                         <span class="comment">// incorrect header</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                <a class="code" href="a00288.html#a9c45d5ab29fad7c514d22008daf15534">annError</a>(<span class="stringliteral">&quot;Incorrect header for dump file&quot;</span>, <a class="code" href="a00288.html#a13bdbb0af13b1a99636a383f628469d4ac74a434b098f1c98aa9c2fbdd2e93524">ANNabort</a>);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        }</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        in.getline(version, <a class="code" href="a00284.html#ac88fef96657c1a127763f35c90198503">STRING_LEN</a>);                        <span class="comment">// get version (ignore)</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <span class="comment">//------------------------------------------------------------------</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <span class="comment">//      Input the points</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <span class="comment">//                      An array the_pts is allocated and points are read from</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        <span class="comment">//                      the dump file.</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <span class="comment">//------------------------------------------------------------------</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        in &gt;&gt; str;                                                                      <span class="comment">// get major heading</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <span class="keywordflow">if</span> (strcmp(str, <span class="stringliteral">&quot;points&quot;</span>) == 0) {                       <span class="comment">// points section</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                in &gt;&gt; the_dim;                                                  <span class="comment">// input dimension</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                in &gt;&gt; the_n_pts;                                                <span class="comment">// number of points</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                                                                                                <span class="comment">// allocate point storage</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                the_pts = <a class="code" href="a00286.html#a7d801c6084e348aefc8d675d5b8f2f9a">annAllocPts</a>(the_n_pts, the_dim);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; the_n_pts; i++) {   <span class="comment">// input point coordinates</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                        <a class="code" href="a00286.html#ac73fee32442f021ddcce434bd34f735f">ANNidx</a> idx;                                                     <span class="comment">// point index</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                        in &gt;&gt; idx;                                                      <span class="comment">// input point index</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                        <span class="keywordflow">if</span> (idx &lt; 0 || idx &gt;= the_n_pts) {</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                                <a class="code" href="a00288.html#a9c45d5ab29fad7c514d22008daf15534">annError</a>(<span class="stringliteral">&quot;Point index is out of range&quot;</span>, <a class="code" href="a00288.html#a13bdbb0af13b1a99636a383f628469d4ac74a434b098f1c98aa9c2fbdd2e93524">ANNabort</a>);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                        }</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                        <span class="keywordflow">for</span> (j = 0; j &lt; the_dim; j++) {</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                                in &gt;&gt; the_pts[idx][j];                  <span class="comment">// read point coordinates</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                        }</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                }</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                in &gt;&gt; str;                                                              <span class="comment">// get next major heading</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        }</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        <span class="keywordflow">else</span> {                                                                          <span class="comment">// no points were input</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                <a class="code" href="a00288.html#a9c45d5ab29fad7c514d22008daf15534">annError</a>(<span class="stringliteral">&quot;Points must be supplied in the dump file&quot;</span>, <a class="code" href="a00288.html#a13bdbb0af13b1a99636a383f628469d4ac74a434b098f1c98aa9c2fbdd2e93524">ANNabort</a>);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        }</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        <span class="comment">//------------------------------------------------------------------</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        <span class="comment">//      Input the tree</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        <span class="comment">//                      After the basic header information, we invoke annReadTree</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <span class="comment">//                      to do all the heavy work.  We create our own array of</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <span class="comment">//                      point indices (so we can pass them to annReadTree())</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        <span class="comment">//                      but we do not deallocate them.  They will be deallocated</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        <span class="comment">//                      when the tree is destroyed.</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        <span class="comment">//------------------------------------------------------------------</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        <span class="keywordflow">if</span> (strcmp(str, <span class="stringliteral">&quot;tree&quot;</span>) == 0) {                         <span class="comment">// tree section</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                in &gt;&gt; the_dim;                                                  <span class="comment">// read dimension</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                in &gt;&gt; the_n_pts;                                                <span class="comment">// number of points</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                in &gt;&gt; the_bkt_size;                                             <span class="comment">// bucket size</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                the_bnd_box_lo = <a class="code" href="a00286.html#a479fe2e8e10f09a57c69f70dcd239f9a">annAllocPt</a>(the_dim);   <span class="comment">// allocate bounding box pts</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                the_bnd_box_hi = <a class="code" href="a00286.html#a479fe2e8e10f09a57c69f70dcd239f9a">annAllocPt</a>(the_dim);</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                <span class="keywordflow">for</span> (j = 0; j &lt; the_dim; j++) {                 <span class="comment">// read bounding box low</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                        in &gt;&gt; the_bnd_box_lo[j];</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                }</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                <span class="keywordflow">for</span> (j = 0; j &lt; the_dim; j++) {                 <span class="comment">// read bounding box low</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                        in &gt;&gt; the_bnd_box_hi[j];</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                }</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                the_pidx = <span class="keyword">new</span> <a class="code" href="a00286.html#ac73fee32442f021ddcce434bd34f735f">ANNidx</a>[the_n_pts];               <span class="comment">// allocate point index array</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                <span class="keywordtype">int</span> next_idx = 0;                                               <span class="comment">// number of indices filled</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                                                                                                <span class="comment">// read the tree and indices</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                the_root = <a class="code" href="a00299.html#a0c7518c682c98520602183746b169a1a">annReadTree</a>(in, tree_type, the_pidx, next_idx);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                <span class="keywordflow">if</span> (next_idx != the_n_pts) {                    <span class="comment">// didn&#39;t see all the points?</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                        <a class="code" href="a00288.html#a9c45d5ab29fad7c514d22008daf15534">annError</a>(<span class="stringliteral">&quot;Didn&#39;t see as many points as expected&quot;</span>, <a class="code" href="a00288.html#a13bdbb0af13b1a99636a383f628469d4a894429235656d13f3ba0c0285c74aeb7">ANNwarn</a>);</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                }</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        }</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                <a class="code" href="a00288.html#a9c45d5ab29fad7c514d22008daf15534">annError</a>(<span class="stringliteral">&quot;Illegal dump format.  Expecting section heading&quot;</span>, <a class="code" href="a00288.html#a13bdbb0af13b1a99636a383f628469d4ac74a434b098f1c98aa9c2fbdd2e93524">ANNabort</a>);</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        }</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        <span class="keywordflow">return</span> the_root;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;}</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment">//----------------------------------------------------------------------</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment">// annReadTree - input tree and return pointer</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment">//              annReadTree reads in a node of the tree, makes any recursive</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="comment">//              calls as needed to input the children of this node (if internal).</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="comment">//              It returns a pointer to the node that was created.      An array</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="comment">//              of point indices is given along with a pointer to the next</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="comment">//              available location in the array.  As leaves are read, their</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="comment">//              point indices are stored here, and the point buckets point</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="comment">//              to the first entry in the array.</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="comment">//              Recall that these are the formats.      The tree is given in</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="comment">//              preorder.</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment">//              Leaf node:</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="comment">//                              leaf &lt;n_pts&gt; &lt;bkt[0]&gt; &lt;bkt[1]&gt; ... &lt;bkt[n-1]&gt;</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment">//              Splitting nodes:</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="comment">//                              split &lt;cut_dim&gt; &lt;cut_val&gt; &lt;lo_bound&gt; &lt;hi_bound&gt;</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment">//              For bd-trees:</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment">//              Shrinking nodes:</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment">//                              shrink &lt;n_bnds&gt;</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment">//                                              &lt;cut_dim&gt; &lt;cut_val&gt; &lt;side&gt;</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment">//                                              &lt;cut_dim&gt; &lt;cut_val&gt; &lt;side&gt;</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment">//                                              ... (repeated n_bnds times)</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment">//----------------------------------------------------------------------</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;</div>
<div class="line"><a name="l00368"></a><span class="lineno"><a class="line" href="a00299.html#a0c7518c682c98520602183746b169a1a">  368</a></span>&#160;<span class="keyword">static</span> <a class="code" href="a00014.html">ANNkd_ptr</a> <a class="code" href="a00299.html#a0c7518c682c98520602183746b169a1a">annReadTree</a>(</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        istream                         &amp;in,                                    <span class="comment">// input stream</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        <a class="code" href="a00299.html#a8f896b788f94f593eae2f63c14aadbbb">ANNtreeType</a>                     tree_type,                              <span class="comment">// type of tree expected</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        <a class="code" href="a00286.html#a6cc54f9929727736423d719870cf1a5b">ANNidxArray</a>                     the_pidx,                               <span class="comment">// point indices (modified)</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        <span class="keywordtype">int</span>                                     &amp;next_idx)                              <span class="comment">// next index (modified)</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;{</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        <span class="keywordtype">char</span> tag[<a class="code" href="a00284.html#ac88fef96657c1a127763f35c90198503">STRING_LEN</a>];                                           <span class="comment">// tag (leaf, split, shrink)</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="a00284.html#a49eeba22d5b2a203ba8607dae7d1c5c9">n_pts</a>;                                                                      <span class="comment">// number of points in leaf</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        <span class="keywordtype">int</span> cd;                                                                         <span class="comment">// cut dimension</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        <a class="code" href="a00286.html#ab066cd4e4fffad67a16b64d9a28a86e4">ANNcoord</a> cv;                                                            <span class="comment">// cut value</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        <a class="code" href="a00286.html#ab066cd4e4fffad67a16b64d9a28a86e4">ANNcoord</a> lb;                                                            <span class="comment">// low bound</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        <a class="code" href="a00286.html#ab066cd4e4fffad67a16b64d9a28a86e4">ANNcoord</a> hb;                                                            <span class="comment">// high bound</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <span class="keywordtype">int</span> n_bnds;                                                                     <span class="comment">// number of bounding sides</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <span class="keywordtype">int</span> sd;                                                                         <span class="comment">// which side</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        in &gt;&gt; tag;                                                                      <span class="comment">// input node tag</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <span class="keywordflow">if</span> (strcmp(tag, <span class="stringliteral">&quot;null&quot;</span>) == 0) {                         <span class="comment">// null tree</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        }</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        <span class="comment">//------------------------------------------------------------------</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        <span class="comment">//      Read a leaf</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        <span class="comment">//------------------------------------------------------------------</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        <span class="keywordflow">if</span> (strcmp(tag, <span class="stringliteral">&quot;leaf&quot;</span>) == 0) {                         <span class="comment">// leaf node</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                in &gt;&gt; <a class="code" href="a00284.html#a49eeba22d5b2a203ba8607dae7d1c5c9">n_pts</a>;                                                    <span class="comment">// input number of points</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                <span class="keywordtype">int</span> old_idx = next_idx;                                 <span class="comment">// save next_idx</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                <span class="keywordflow">if</span> (n_pts == 0) {                                               <span class="comment">// trivial leaf</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="a00308.html#aefd44c312f0116089b2cfbf80ef5c5c7">KD_TRIVIAL</a>;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                }</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="a00284.html#a49eeba22d5b2a203ba8607dae7d1c5c9">n_pts</a>; i++) {       <span class="comment">// input point indices</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                                in &gt;&gt; the_pidx[next_idx++];             <span class="comment">// store in array of indices</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                        }</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                }</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="a00013.html">ANNkd_leaf</a>(n_pts, &amp;the_pidx[old_idx]);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        }</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        <span class="comment">//------------------------------------------------------------------</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <span class="comment">//      Read a splitting node</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        <span class="comment">//------------------------------------------------------------------</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(tag, <span class="stringliteral">&quot;split&quot;</span>) == 0) {           <span class="comment">// splitting node</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                in &gt;&gt; cd &gt;&gt; cv &gt;&gt; lb &gt;&gt; hb;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                                                                                                <span class="comment">// read low and high subtrees</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                <a class="code" href="a00014.html">ANNkd_ptr</a> lc = <a class="code" href="a00299.html#a0c7518c682c98520602183746b169a1a">annReadTree</a>(in, tree_type, the_pidx, next_idx);</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                <a class="code" href="a00014.html">ANNkd_ptr</a> hc = <a class="code" href="a00299.html#a0c7518c682c98520602183746b169a1a">annReadTree</a>(in, tree_type, the_pidx, next_idx);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                                                                                                <span class="comment">// create new node and return</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="a00015.html">ANNkd_split</a>(cd, cv, lb, hb, lc, hc);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        }</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        <span class="comment">//------------------------------------------------------------------</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        <span class="comment">//      Read a shrinking node (bd-tree only)</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        <span class="comment">//------------------------------------------------------------------</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(tag, <span class="stringliteral">&quot;shrink&quot;</span>) == 0) {          <span class="comment">// shrinking node</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                <span class="keywordflow">if</span> (tree_type != <a class="code" href="a00299.html#a8f896b788f94f593eae2f63c14aadbbba3db7510f23fe6ab78f77cacff3f719d0">BD_TREE</a>) {</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                        <a class="code" href="a00288.html#a9c45d5ab29fad7c514d22008daf15534">annError</a>(<span class="stringliteral">&quot;Shrinking node not allowed in kd-tree&quot;</span>, <a class="code" href="a00288.html#a13bdbb0af13b1a99636a383f628469d4ac74a434b098f1c98aa9c2fbdd2e93524">ANNabort</a>);</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                }</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                in &gt;&gt; n_bnds;                                                   <span class="comment">// number of bounding sides</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                                                                                                <span class="comment">// allocate bounds array</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                <a class="code" href="a00019.html">ANNorthHSArray</a> bds = <span class="keyword">new</span> <a class="code" href="a00019.html">ANNorthHalfSpace</a>[n_bnds];</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; n_bnds; i++) {</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                        in &gt;&gt; cd &gt;&gt; cv &gt;&gt; sd;                           <span class="comment">// input bounding halfspace</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                                                                                                <span class="comment">// copy to array</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                        bds[i] = <a class="code" href="a00019.html">ANNorthHalfSpace</a>(cd, cv, sd);</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                }</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                                                                                                <span class="comment">// read inner and outer subtrees</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                <a class="code" href="a00014.html">ANNkd_ptr</a> ic = <a class="code" href="a00299.html#a0c7518c682c98520602183746b169a1a">annReadTree</a>(in, tree_type, the_pidx, next_idx);</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                <a class="code" href="a00014.html">ANNkd_ptr</a> oc = <a class="code" href="a00299.html#a0c7518c682c98520602183746b169a1a">annReadTree</a>(in, tree_type, the_pidx, next_idx);</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                                                                                                <span class="comment">// create new node and return</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="a00010.html">ANNbd_shrink</a>(n_bnds, bds, ic, oc);</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        }</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                <a class="code" href="a00288.html#a9c45d5ab29fad7c514d22008daf15534">annError</a>(<span class="stringliteral">&quot;Illegal node type in dump file&quot;</span>, <a class="code" href="a00288.html#a13bdbb0af13b1a99636a383f628469d4ac74a434b098f1c98aa9c2fbdd2e93524">ANNabort</a>);</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                exit(0);                                                                <span class="comment">// to keep the compiler happy</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        }</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;}</div>
<div class="ttc" id="a00286_html_af70a6982ba3eb965c85163b12bf15a79"><div class="ttname"><a href="a00286.html#af70a6982ba3eb965c85163b12bf15a79">ANNcoordPrec</a></div><div class="ttdeci">const int ANNcoordPrec</div><div class="ttdef"><b>Definition:</b> <a href="a00286_source.html#l00222">ANN.h:222</a></div></div>
<div class="ttc" id="a00010_html"><div class="ttname"><a href="a00010.html">ANNbd_shrink</a></div><div class="ttdef"><b>Definition:</b> <a href="a00297_source.html#l00061">bd_tree.h:61</a></div></div>
<div class="ttc" id="a00299_html_a596344e5a2992d2beec43b76a6294de0"><div class="ttname"><a href="a00299.html#a596344e5a2992d2beec43b76a6294de0">EPSILON</a></div><div class="ttdeci">const double EPSILON</div><div class="ttdef"><b>Definition:</b> <a href="a00299_source.html#l00044">kd_dump.cpp:44</a></div></div>
<div class="ttc" id="a00286_html_ae5927710e8251aa54f5b820eca160f2c"><div class="ttname"><a href="a00286.html#ae5927710e8251aa54f5b820eca160f2c">ANNbool</a></div><div class="ttdeci">ANNbool</div><div class="ttdef"><b>Definition:</b> <a href="a00286_source.html#l00132">ANN.h:132</a></div></div>
<div class="ttc" id="a00299_html_a8f896b788f94f593eae2f63c14aadbbbaa688e9cd1158916bc183aa517724568c"><div class="ttname"><a href="a00299.html#a8f896b788f94f593eae2f63c14aadbbbaa688e9cd1158916bc183aa517724568c">KD_TREE</a></div><div class="ttdef"><b>Definition:</b> <a href="a00299_source.html#l00046">kd_dump.cpp:46</a></div></div>
<div class="ttc" id="a00015_html_aff4d64cf3125c6a5e3a9f62a211e5f5b"><div class="ttname"><a href="a00015.html#aff4d64cf3125c6a5e3a9f62a211e5f5b">ANNkd_split::dump</a></div><div class="ttdeci">virtual void dump(ostream &amp;out)</div><div class="ttdef"><b>Definition:</b> <a href="a00299_source.html#l00134">kd_dump.cpp:134</a></div></div>
<div class="ttc" id="a00284_html_a49eeba22d5b2a203ba8607dae7d1c5c9"><div class="ttname"><a href="a00284.html#a49eeba22d5b2a203ba8607dae7d1c5c9">n_pts</a></div><div class="ttdeci">int n_pts</div><div class="ttdef"><b>Definition:</b> <a href="a00284_source.html#l00082">ann2fig.cpp:82</a></div></div>
<div class="ttc" id="a00299_html_a0c7518c682c98520602183746b169a1a"><div class="ttname"><a href="a00299.html#a0c7518c682c98520602183746b169a1a">annReadTree</a></div><div class="ttdeci">static ANNkd_ptr annReadTree(istream &amp;in, ANNtreeType tree_type, ANNidxArray the_pidx, int &amp;next_idx)</div><div class="ttdef"><b>Definition:</b> <a href="a00299_source.html#l00368">kd_dump.cpp:368</a></div></div>
<div class="ttc" id="a00015_html"><div class="ttname"><a href="a00015.html">ANNkd_split</a></div><div class="ttdef"><b>Definition:</b> <a href="a00309_source.html#l00142">kd_tree.h:142</a></div></div>
<div class="ttc" id="a00284_html_ac88fef96657c1a127763f35c90198503"><div class="ttname"><a href="a00284.html#ac88fef96657c1a127763f35c90198503">STRING_LEN</a></div><div class="ttdeci">const int STRING_LEN</div><div class="ttdef"><b>Definition:</b> <a href="a00284_source.html#l00056">ann2fig.cpp:56</a></div></div>
<div class="ttc" id="a00289_html_a12136ab41a8aa67f0858137868a55106"><div class="ttname"><a href="a00289.html#a12136ab41a8aa67f0858137868a55106">version</a></div><div class="ttdeci">and that you are informed that you can do these things To protect your we need to make restrictions that forbid distributors to deny you these rights or to ask you to surrender these rights These restrictions translate to certain responsibilities for you if you distribute copies of the library or if you modify it For if you distribute copies of the whether gratis or for a you must give the recipients all the rights that we gave you You must make sure that receive or can get the source code If you link other code with the you must provide complete object files to the so that they can relink them with the library after making changes to the library and recompiling it And you must show them these terms so they know their rights We protect your rights with a two step which gives you legal permission to distribute and or modify the library To protect each we want to make it very clear that there is no warranty for the free library if the library is modified by someone else and passed the recipients should know that what they have is not the original version</div><div class="ttdef"><b>Definition:</b> <a href="a00289_source.html#l00060">License.txt:60</a></div></div>
<div class="ttc" id="a00284_html_a7e1bd7f0242ce9e79a7a615c7f1975d2"><div class="ttname"><a href="a00284.html#a7e1bd7f0242ce9e79a7a615c7f1975d2">pts</a></div><div class="ttdeci">ANNpointArray pts</div><div class="ttdef"><b>Definition:</b> <a href="a00284_source.html#l00083">ann2fig.cpp:83</a></div></div>
<div class="ttc" id="a00288_html_a13bdbb0af13b1a99636a383f628469d4ac74a434b098f1c98aa9c2fbdd2e93524"><div class="ttname"><a href="a00288.html#a13bdbb0af13b1a99636a383f628469d4ac74a434b098f1c98aa9c2fbdd2e93524">ANNabort</a></div><div class="ttdef"><b>Definition:</b> <a href="a00288_source.html#l00048">ANNx.h:48</a></div></div>
<div class="ttc" id="a00011_html_a6f947fa8ce26e0ccae9dd1b7651a5e1f"><div class="ttname"><a href="a00011.html#a6f947fa8ce26e0ccae9dd1b7651a5e1f">ANNbd_tree::ANNbd_tree</a></div><div class="ttdeci">ANNbd_tree(int n, int dd, int bs=1)</div><div class="ttdef"><b>Definition:</b> <a href="a00286_source.html#l00799">ANN.h:799</a></div></div>
<div class="ttc" id="a00288_html_adf764cbdea00d65edcd07bb9953ad2b7a74d342c79fc6125d2b51326d62ce597c"><div class="ttname"><a href="a00288.html#adf764cbdea00d65edcd07bb9953ad2b7a74d342c79fc6125d2b51326d62ce597c">ANN_OUT</a></div><div class="ttdef"><b>Definition:</b> <a href="a00288_source.html#l00046">ANNx.h:46</a></div></div>
<div class="ttc" id="a00286_html_ab066cd4e4fffad67a16b64d9a28a86e4"><div class="ttname"><a href="a00286.html#ab066cd4e4fffad67a16b64d9a28a86e4">ANNcoord</a></div><div class="ttdeci">double ANNcoord</div><div class="ttdef"><b>Definition:</b> <a href="a00286_source.html#l00158">ANN.h:158</a></div></div>
<div class="ttc" id="a00288_html_adf764cbdea00d65edcd07bb9953ad2b7a0d2aaac2cc3bb72be73ecfa346e35fa9"><div class="ttname"><a href="a00288.html#adf764cbdea00d65edcd07bb9953ad2b7a0d2aaac2cc3bb72be73ecfa346e35fa9">ANN_IN</a></div><div class="ttdef"><b>Definition:</b> <a href="a00288_source.html#l00046">ANNx.h:46</a></div></div>
<div class="ttc" id="a00013_html_a3a6befdd493ce50335e3628990ab8761"><div class="ttname"><a href="a00013.html#a3a6befdd493ce50335e3628990ab8761">ANNkd_leaf::dump</a></div><div class="ttdeci">virtual void dump(ostream &amp;out)</div><div class="ttdef"><b>Definition:</b> <a href="a00299_source.html#l00144">kd_dump.cpp:144</a></div></div>
<div class="ttc" id="a00288_html_a13bdbb0af13b1a99636a383f628469d4a894429235656d13f3ba0c0285c74aeb7"><div class="ttname"><a href="a00288.html#a13bdbb0af13b1a99636a383f628469d4a894429235656d13f3ba0c0285c74aeb7">ANNwarn</a></div><div class="ttdef"><b>Definition:</b> <a href="a00288_source.html#l00048">ANNx.h:48</a></div></div>
<div class="ttc" id="a00016_html_a554ac3f6c790dfa2268008580bcb9734"><div class="ttname"><a href="a00016.html#a554ac3f6c790dfa2268008580bcb9734">ANNkd_tree::ANNkd_tree</a></div><div class="ttdeci">ANNkd_tree(int n=0, int dd=0, int bs=1)</div><div class="ttdef"><b>Definition:</b> <a href="a00308_source.html#l00273">kd_tree.cpp:273</a></div></div>
<div class="ttc" id="a00299_html_a8f896b788f94f593eae2f63c14aadbbb"><div class="ttname"><a href="a00299.html#a8f896b788f94f593eae2f63c14aadbbb">ANNtreeType</a></div><div class="ttdeci">ANNtreeType</div><div class="ttdef"><b>Definition:</b> <a href="a00299_source.html#l00046">kd_dump.cpp:46</a></div></div>
<div class="ttc" id="a00309_html"><div class="ttname"><a href="a00309.html">kd_tree.h</a></div></div>
<div class="ttc" id="a00014_html"><div class="ttname"><a href="a00014.html">ANNkd_node</a></div><div class="ttdef"><b>Definition:</b> <a href="a00309_source.html#l00046">kd_tree.h:46</a></div></div>
<div class="ttc" id="a00288_html_a06fc87d81c62e9abb8790b6e5713c55baa8cdd7f0b9fb9ae3d138d13815c57d6e"><div class="ttname"><a href="a00288.html#a06fc87d81c62e9abb8790b6e5713c55baa8cdd7f0b9fb9ae3d138d13815c57d6e">ANN_LO</a></div><div class="ttdef"><b>Definition:</b> <a href="a00288_source.html#l00045">ANNx.h:45</a></div></div>
<div class="ttc" id="a00308_html_aefd44c312f0116089b2cfbf80ef5c5c7"><div class="ttname"><a href="a00308.html#aefd44c312f0116089b2cfbf80ef5c5c7">KD_TRIVIAL</a></div><div class="ttdeci">ANNkd_leaf * KD_TRIVIAL</div><div class="ttdef"><b>Definition:</b> <a href="a00308_source.html#l00050">kd_tree.cpp:50</a></div></div>
<div class="ttc" id="a00286_html_a479fe2e8e10f09a57c69f70dcd239f9a"><div class="ttname"><a href="a00286.html#a479fe2e8e10f09a57c69f70dcd239f9a">annAllocPt</a></div><div class="ttdeci">DLL_API ANNpoint annAllocPt(int dim, ANNcoord c=0)</div><div class="ttdef"><b>Definition:</b> <a href="a00292_source.html#l00110">ANN.cpp:110</a></div></div>
<div class="ttc" id="a00288_html_a9c45d5ab29fad7c514d22008daf15534"><div class="ttname"><a href="a00288.html#a9c45d5ab29fad7c514d22008daf15534">annError</a></div><div class="ttdeci">void annError(const char *msg, ANNerr level)</div><div class="ttdef"><b>Definition:</b> <a href="a00292_source.html#l00169">ANN.cpp:169</a></div></div>
<div class="ttc" id="a00286_html_a4ef5fb5f7e0bf3774fb2806411da5f49"><div class="ttname"><a href="a00286.html#a4ef5fb5f7e0bf3774fb2806411da5f49">ANNversion</a></div><div class="ttdeci">#define ANNversion</div><div class="ttdef"><b>Definition:</b> <a href="a00286_source.html#l00121">ANN.h:121</a></div></div>
<div class="ttc" id="a00286_html_a402299ac00a81ad80f09a0eb84ba4059"><div class="ttname"><a href="a00286.html#a402299ac00a81ad80f09a0eb84ba4059">ANNpointArray</a></div><div class="ttdeci">ANNpoint * ANNpointArray</div><div class="ttdef"><b>Definition:</b> <a href="a00286_source.html#l00376">ANN.h:376</a></div></div>
<div class="ttc" id="a00286_html_ac73fee32442f021ddcce434bd34f735f"><div class="ttname"><a href="a00286.html#ac73fee32442f021ddcce434bd34f735f">ANNidx</a></div><div class="ttdeci">int ANNidx</div><div class="ttdef"><b>Definition:</b> <a href="a00286_source.html#l00175">ANN.h:175</a></div></div>
<div class="ttc" id="a00013_html"><div class="ttname"><a href="a00013.html">ANNkd_leaf</a></div><div class="ttdef"><b>Definition:</b> <a href="a00309_source.html#l00091">kd_tree.h:91</a></div></div>
<div class="ttc" id="a00010_html_a51d412cbad1b7823437adf97050d8880"><div class="ttname"><a href="a00010.html#a51d412cbad1b7823437adf97050d8880">ANNbd_shrink::dump</a></div><div class="ttdeci">virtual void dump(ostream &amp;out)</div><div class="ttdef"><b>Definition:</b> <a href="a00299_source.html#l00159">kd_dump.cpp:159</a></div></div>
<div class="ttc" id="a00288_html_a06fc87d81c62e9abb8790b6e5713c55baec74667bc912e4db7f65f6a85e6e9c49"><div class="ttname"><a href="a00288.html#a06fc87d81c62e9abb8790b6e5713c55baec74667bc912e4db7f65f6a85e6e9c49">ANN_HI</a></div><div class="ttdef"><b>Definition:</b> <a href="a00288_source.html#l00045">ANNx.h:45</a></div></div>
<div class="ttc" id="a00286_html_ad85f4b5cb9cf5877a2094bf8582133f5"><div class="ttname"><a href="a00286.html#ad85f4b5cb9cf5877a2094bf8582133f5">ANNpoint</a></div><div class="ttdeci">ANNcoord * ANNpoint</div><div class="ttdef"><b>Definition:</b> <a href="a00286_source.html#l00375">ANN.h:375</a></div></div>
<div class="ttc" id="a00284_html_a70b5e28b5bc3d1b63a7435c5fe50b837"><div class="ttname"><a href="a00284.html#a70b5e28b5bc3d1b63a7435c5fe50b837">dim</a></div><div class="ttdeci">int dim</div><div class="ttdef"><b>Definition:</b> <a href="a00284_source.html#l00081">ann2fig.cpp:81</a></div></div>
<div class="ttc" id="a00299_html_a8f896b788f94f593eae2f63c14aadbbba3db7510f23fe6ab78f77cacff3f719d0"><div class="ttname"><a href="a00299.html#a8f896b788f94f593eae2f63c14aadbbba3db7510f23fe6ab78f77cacff3f719d0">BD_TREE</a></div><div class="ttdef"><b>Definition:</b> <a href="a00299_source.html#l00046">kd_dump.cpp:46</a></div></div>
<div class="ttc" id="a00016_html"><div class="ttname"><a href="a00016.html">ANNkd_tree</a></div><div class="ttdef"><b>Definition:</b> <a href="a00286_source.html#l00705">ANN.h:705</a></div></div>
<div class="ttc" id="a00286_html_a7d801c6084e348aefc8d675d5b8f2f9a"><div class="ttname"><a href="a00286.html#a7d801c6084e348aefc8d675d5b8f2f9a">annAllocPts</a></div><div class="ttdeci">DLL_API ANNpointArray annAllocPts(int n, int dim)</div><div class="ttdef"><b>Definition:</b> <a href="a00292_source.html#l00117">ANN.cpp:117</a></div></div>
<div class="ttc" id="a00297_html"><div class="ttname"><a href="a00297.html">bd_tree.h</a></div></div>
<div class="ttc" id="a00016_html_a25679827d1b863997fd3d8054116d2de"><div class="ttname"><a href="a00016.html#a25679827d1b863997fd3d8054116d2de">ANNkd_tree::Dump</a></div><div class="ttdeci">virtual void Dump(ANNbool with_pts, std::ostream &amp;out)</div><div class="ttdef"><b>Definition:</b> <a href="a00299_source.html#l00102">kd_dump.cpp:102</a></div></div>
<div class="ttc" id="a00299_html_a26c6fdde49db3b129c5bfd2a328424f7"><div class="ttname"><a href="a00299.html#a26c6fdde49db3b129c5bfd2a328424f7">annReadDump</a></div><div class="ttdeci">static ANNkd_ptr annReadDump(istream &amp;in, ANNtreeType tree_type, ANNpointArray &amp;the_pts, ANNidxArray &amp;the_pidx, int &amp;the_dim, int &amp;the_n_pts, int &amp;the_bkt_size, ANNpoint &amp;the_bnd_box_lo, ANNpoint &amp;the_bnd_box_hi)</div><div class="ttdef"><b>Definition:</b> <a href="a00299_source.html#l00253">kd_dump.cpp:253</a></div></div>
<div class="ttc" id="a00288_html_ad98b2b2c921df6fd52bb08c46b68cd98"><div class="ttname"><a href="a00288.html#ad98b2b2c921df6fd52bb08c46b68cd98">annPrintPt</a></div><div class="ttdeci">void annPrintPt(ANNpoint pt, int dim, std::ostream &amp;out)</div><div class="ttdef"><b>Definition:</b> <a href="a00292_source.html#l00070">ANN.cpp:70</a></div></div>
<div class="ttc" id="a00019_html"><div class="ttname"><a href="a00019.html">ANNorthHalfSpace</a></div><div class="ttdef"><b>Definition:</b> <a href="a00288_source.html#l00132">ANNx.h:132</a></div></div>
<div class="ttc" id="a00286_html_a6cc54f9929727736423d719870cf1a5b"><div class="ttname"><a href="a00286.html#a6cc54f9929727736423d719870cf1a5b">ANNidxArray</a></div><div class="ttdeci">ANNidx * ANNidxArray</div><div class="ttdef"><b>Definition:</b> <a href="a00286_source.html#l00378">ANN.h:378</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<hr size="1"/><address style="text-align: right;"><small>
Generated on Thu Jun 11 2015 13:52:31 for queso-0.53.0
by&nbsp;<a href="http://www.doxygen.org/index.html">
<em>doxygen</em></a>
1.8.5</small></address>
</body>
</html>
